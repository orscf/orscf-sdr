<?xml version="1.0" encoding="utf-8"?>
<edmx:Edmx Version="3.0" xmlns:edmx="http://schemas.microsoft.com/ado/2009/11/edmx">
  <!-- EF Runtime content -->
  <edmx:Runtime>
    <!-- SSDL content -->
    <edmx:StorageModels>
      <Schema xmlns="http://schemas.microsoft.com/ado/2009/11/edm/ssdl" Namespace="DataModel.Store" Alias="Self" Provider="System.Data.SqlClient" ProviderManifestToken="2005">
        <EntityContainer Name="DataModelTargetContainer" >
        </EntityContainer>
      </Schema>
    </edmx:StorageModels>
    <!-- CSDL content -->
    <edmx:ConceptualModels>
      <Schema xmlns="http://schemas.microsoft.com/ado/2009/11/edm" xmlns:cg="http://schemas.microsoft.com/ado/2006/04/codegeneration" xmlns:store="http://schemas.microsoft.com/ado/2007/12/edm/EntityStoreSchemaGenerator" Namespace="DomainModel" Alias="Self" xmlns:annotation="http://schemas.microsoft.com/ado/2009/02/edm/annotation" annotation:UseStrongSpatialTypes="false">
        <EntityContainer Name="Model" annotation:LazyLoadingEnabled="true">
          <EntitySet Name="Subjects" EntityType="DomainModel.Subject" />
          <EntitySet Name="SubjectSiteAssignments" EntityType="DomainModel.SubjectSiteAssignment" />
          <AssociationSet Name="SubjectSubjectSiteAssignment" Association="DomainModel.SubjectSubjectSiteAssignment">
            <End Role="Subject" EntitySet="Subjects" />
            <End Role="SubjectSiteAssignment" EntitySet="SubjectSiteAssignments" />
          </AssociationSet>
          </EntityContainer>
        <EntityType Name="Subject">
          <Documentation>
            <Summary>entity, which relates to &lt;see href="https://www.hl7.org/fhir/researchsubject.html"&gt;HL7.ResearchSubject&lt;/see&gt;</Summary>
          </Documentation>
          <Key>
            <PropertyRef Name="SubjectUid" />
          </Key>
          <Property Name="SubjectUid" Type="Guid" Nullable="false" annotation:StoreGeneratedPattern="None" >
            <Documentation>
              <Summary>An &lt;see href="https://de.wikipedia.org/wiki/Universally_Unique_Identifier"&gt;Universally Unique Identifier&lt;/see&gt; which can be generated by any origin system and is used to address this ORSCF conform data record in decentralized environments. Note that this Identity must not be changed any more!</Summary>
            </Documentation>
          </Property>
          <Property Name="ActualSiteUid" Type="Guid" Nullable="false" />
          <Property Name="EnrollingSiteUid" Type="Guid" Nullable="false" >
            <Documentation>
              <LongDescription>FIX</LongDescription>
            </Documentation>
          </Property>
          <Property Name="PeriodStart" Type="DateTime" Nullable="true" />
          <Property Name="PeriodEnd" Type="DateTime" Nullable="true" />
          <Property Name="StatusNote" Type="String" Nullable="true" />
          <Property Name="SubjectIdentifier" Type="String" Nullable="true" >
            <Documentation>
              <LongDescription>UNQ1</LongDescription>
            </Documentation>
          </Property>
          <Property Name="Status" Type="String" Nullable="false" >
            <Documentation>
              <Summary>AS DECLARED BY &lt;see href="https://www.hl7.org/fhir/valueset-research-subject-status.html"&gt;HL7.ResearchSubjectStatus&lt;/see&gt;:
candidate | eligible | follow-up | ineligible | not-registered | off-study | on-study | on-study-intervention | on-study-observation | pending-on-study | potential-candidate | screening | withdrawn</Summary>
            </Documentation>
          </Property>
          <NavigationProperty Name="SiteAssignments" Relationship="DomainModel.SubjectSubjectSiteAssignment" FromRole="Subject" ToRole="SubjectSiteAssignment" />
          <Property Name="StudyUid" Type="Guid" Nullable="false" />
          <Property Name="ModificationTimestampUtc" Type="Int64" Nullable="false" />
          <Property Name="IsArchived" Type="Boolean" Nullable="false" />
          <Property Name="AssignedArm" Type="String" Nullable="false" />
          <Property Name="ActualArm" Type="String" Nullable="false" />
          <Property Name="SubstudyNames" Type="String" Nullable="false" />
        </EntityType>
        <EntityType Name="SubjectSiteAssignment">
          <Key>
            <PropertyRef Name="SubjectSiteAssignmentUid" />
          </Key>
          <Property Name="SubjectSiteAssignmentUid" Type="Guid" Nullable="false" >
            <Documentation>
              <Summary>An &lt;see href="https://de.wikipedia.org/wiki/Universally_Unique_Identifier"&gt;Universally Unique Identifier&lt;/see&gt; which can be generated by any origin system and is used to address this ORSCF conform data record in decentralized environments. Note that this Identity must not be changed any more!</Summary>
            </Documentation>
          </Property>
          <Property Name="ValidFrom" Type="DateTime" Nullable="false" >
            <Documentation>
              <LongDescription>UNQ1</LongDescription>
            </Documentation>
          </Property>
          <Property Name="SiteUid" Type="Guid" Nullable="false" >
            <Documentation>
              <Summary>&lt;see href="https://de.wikipedia.org/wiki/Universally_Unique_Identifier"&gt;Universally Unique Identifier&lt;/see&gt; of the target Site</Summary>
            </Documentation>
          </Property>
          <NavigationProperty Name="Subject" Relationship="DomainModel.SubjectSubjectSiteAssignment" FromRole="SubjectSiteAssignment" ToRole="Subject" />
          <Property Name="SubjectUid" Type="Guid" Nullable="false" >
            <Documentation>
              <Summary>&lt;see href="https://de.wikipedia.org/wiki/Universally_Unique_Identifier"&gt;Universally Unique Identifier&lt;/see&gt; of the target Subject</Summary>
              <LongDescription>UNQ1</LongDescription>
            </Documentation>
          </Property>
          <Property Name="SiteDefinedPatientIdentifier" Type="String" Nullable="true" >
            <Documentation>
              <Summary>This can be the ID ('surrogate-key') of the Partient record within a site specific patient management system. This MUST NOT be any natural key or plain readable name which exposes the identity of the patient!</Summary>
            </Documentation>
          </Property>
          <Property Name="ByInvolvedPersonUid" Type="Guid" Nullable="true" />
        </EntityType>
        <Association Name="SubjectSubjectSiteAssignment">
          <End Type="DomainModel.Subject" Role="Subject" Multiplicity="1" />
          <End Type="DomainModel.SubjectSiteAssignment" Role="SubjectSiteAssignment" Multiplicity="*" />
          <ReferentialConstraint>
            <Principal Role="Subject">
              <PropertyRef Name="SubjectUid" />
            </Principal>
            <Dependent Role="SubjectSiteAssignment">
              <PropertyRef Name="SubjectUid" />
            </Dependent>
          </ReferentialConstraint>
        </Association>
        </Schema>
    </edmx:ConceptualModels>
    <!-- C-S mapping content -->
    <edmx:Mappings>
      <Mapping xmlns="http://schemas.microsoft.com/ado/2009/11/mapping/cs" Space="C-S">
        <Alias Key="Model" Value="DataModel" />
        <Alias Key="Target" Value="DataModel.Store" />
        <EntityContainerMapping CdmEntityContainer="Model" StorageEntityContainer="DataModelTargetContainer">
        </EntityContainerMapping>
      </Mapping>
    </edmx:Mappings>
  </edmx:Runtime>
  <!-- EF Designer content (DO NOT EDIT MANUALLY BELOW HERE) -->
  <edmx:Designer xmlns="http://schemas.microsoft.com/ado/2009/11/edmx">
    <edmx:Connection>
      <DesignerInfoPropertySet>
        <DesignerProperty Name="MetadataArtifactProcessing" Value="EmbedInOutputAssembly" />
      </DesignerInfoPropertySet>
    </edmx:Connection>
    <edmx:Options>
      <DesignerInfoPropertySet>
        <DesignerProperty Name="ValidateOnBuild" Value="False" />
        <DesignerProperty Name="EnablePluralization" Value="False" />
        <DesignerProperty Name="CodeGenerationStrategy" Value="None" />
        <DesignerProperty Name="ProcessDependentTemplatesOnSave" Value="False" />
      </DesignerInfoPropertySet>
    </edmx:Options>
    <!-- Diagram content (shape and connector positions) -->
    <edmx:Diagrams>
      <Diagram DiagramId="1e673f0774584ac2be5350aef5de4487" Name="Schema" ZoomLevel="96">
        <EntityTypeShape EntityType="DomainModel.Subject" Width="2.375" PointX="2.625" PointY="2.125" FillColor="Aqua" />
        <EntityTypeShape EntityType="DomainModel.SubjectSiteAssignment" Width="2.375" PointX="6" PointY="3.75" FillColor="Aqua" />
        <AssociationConnector Association="DomainModel.SubjectSubjectSiteAssignment" />
        </Diagram>
    </edmx:Diagrams>
  </edmx:Designer>
</edmx:Edmx>
